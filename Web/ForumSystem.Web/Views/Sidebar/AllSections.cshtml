@using System.Collections.Generic

@model IEnumerable<ForumSystem.Web.ViewModels.Sections.SectionViewModel>

<div class="section-wrapper">
    <h3 class="sidebar-title" data-toggle="collapse" data-target="#displaySections">
        Sections
        <i class="fa fa-chevron-down"></i>
    </h3>
    <ul id="displaySections" class="sidebar-nav col-md-12 col-sm-4 collapse in">
        @foreach (var item in Model)
        {
            <li>
                <a href="@Url.Action("Details", "Sections", new { area = string.Empty, id = item.Id })" class="nav-link">
                    @item.Title
                </a>
            </li>
        }
    </ul>
</div>

<script>
    $(document).ready(function () {
        if ($(window).width() < 991) {
            $('.section-wrapper').find('.sidebar-nav').removeClass('in');
        }

        $(window).resize(function () {
            var isCollapsed = $('.section-wrapper').find('.in');

            if ($(window).width() < 991 && isCollapsed.length > 0) {
                console.log("Remove");
                $('.section-wrapper').find('.sidebar-nav').removeClass('in');
            }

            if ($(window).width() > 991 && isCollapsed.length === 0) {
                console.log("Down");
                $('.section-wrapper').find('.sidebar-nav').addClass('in');
            }
        });
    });
</script>